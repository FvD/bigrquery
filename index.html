<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An Interface to Google's 'BigQuery' 'API' • bigrquery</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An Interface to Google's 'BigQuery' 'API'">
<meta property="og:description" content="Easily talk to Google's 'BigQuery' database from R.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">bigrquery</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstats-db/bigrquery">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="bigrquery" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#bigrquery" class="anchor"></a>bigrquery</h1></div>

<p>The bigrquery package makes it easy to work with data stored in <a href="https://developers.google.com/bigquery/">Google BigQuery</a> by allowing you to query BigQuery tables and retrieve metadata about your projects, datasets, tables, and jobs. The bigrquery package provides three levels of abstraction on top of BigQuery:</p>
<ul>
<li><p>The low-level API provides thin wrappers over the underlying REST API. All the low-level functions start with <code>bq_</code>, and mostly have the form <code>bq_noun_verb()</code>. This level of abstraction is most appropriate if you’re familiar with the REST API and you want do something not supported in the higher-level APIs.</p></li>
<li><p>The <a href="http://www.r-dbi.org">DBI interface</a> wraps the low-level API and makes working with BigQuery like working with any other database system. This is most convenient layer if you want to execute SQL queries in BigQuery or upload smaller amounts (i.e. &lt;100 MB) of data.</p></li>
<li><p>The <a href="http://dbplyr.tidyverse.org/">dplyr interface</a> lets you treat BigQuery tables as if they are in-memory data frames. This is the most convenient layer if you don’t want to write SQL, but instead want dbplyr to write it for you.</p></li>
</ul>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The current bigrquery release can be installed from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"bigrquery"</span>)</a></code></pre></div>
<p>The newest development release can be installed from GitHub:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># install.packages('devtools')</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">"r-dbi/bigrquery"</span>)</a></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="low-level-api" class="section level3">
<h3 class="hasAnchor">
<a href="#low-level-api" class="anchor"></a>Low-level API</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(bigrquery)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">billing &lt;-<span class="st"> </span><span class="kw"><a href="reference/bq_test_project.html">bq_test_project</a></span>() <span class="co"># replace this with your project ID </span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">sql &lt;-<span class="st"> "SELECT year, month, day, weight_pounds FROM `publicdata.samples.natality`"</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">tb &lt;-<span class="st"> </span><span class="kw"><a href="reference/bq_query.html">bq_project_query</a></span>(billing, sql)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="kw"><a href="reference/bq_table_download.html">bq_table_download</a></span>(tb, <span class="dt">max_results =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; # A tibble: 10 x 4</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;     year month   day weight_pounds</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;         &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  1  1969     5    20          7.81</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  2  1969     4    15          9.38</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  3  1969     5    17          9.94</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  4  1969    11    15          6.50</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;  5  1969     8     7          9.06</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;  6  1969    11     1          6.81</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt;  7  1969     3    12          8.69</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt;  8  1969     9    29          8.38</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt;  9  1969     2    15          4.25</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt; 10  1969     2    26          8.75</span></a></code></pre></div>
</div>
</div>
<div id="dbi" class="section level2">
<h2 class="hasAnchor">
<a href="#dbi" class="anchor"></a>DBI</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(DBI)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"></a>
<a class="sourceLine" id="cb4-3" data-line-number="3">con &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/DBI/topics/dbConnect">dbConnect</a></span>(</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  bigrquery<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/bigrquery/topics/bigquery">bigquery</a></span>(),</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  <span class="dt">project =</span> <span class="st">"publicdata"</span>,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">  <span class="dt">dataset =</span> <span class="st">"samples"</span>,</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">  <span class="dt">billing =</span> billing</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">con </a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; &lt;BigQueryConnection&gt;</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt;   Dataset: publicdata.samples</span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="co">#&gt;   Billing: bigrquery-examples</span></a>
<a class="sourceLine" id="cb4-13" data-line-number="13"></a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="kw"><a href="https://www.rdocumentation.org/packages/DBI/topics/dbListTables">dbListTables</a></span>(con)</a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="co">#&gt; [1] "github_nested"   "github_timeline" "gsod"            "natality"       </span></a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">#&gt; [5] "shakespeare"     "trigrams"        "wikipedia"</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="kw"><a href="https://www.rdocumentation.org/packages/DBI/topics/dbGetQuery">dbGetQuery</a></span>(con, sql, <span class="dt">n =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="co">#&gt; # A tibble: 10 x 4</span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="co">#&gt;     year month   day weight_pounds</span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;         &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="co">#&gt;  1  1969     5    20          7.81</span></a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="co">#&gt;  2  1969     4    15          9.38</span></a>
<a class="sourceLine" id="cb4-24" data-line-number="24"><span class="co">#&gt;  3  1969     5    17          9.94</span></a>
<a class="sourceLine" id="cb4-25" data-line-number="25"><span class="co">#&gt;  4  1969    11    15          6.50</span></a>
<a class="sourceLine" id="cb4-26" data-line-number="26"><span class="co">#&gt;  5  1969     8     7          9.06</span></a>
<a class="sourceLine" id="cb4-27" data-line-number="27"><span class="co">#&gt;  6  1969    11     1          6.81</span></a>
<a class="sourceLine" id="cb4-28" data-line-number="28"><span class="co">#&gt;  7  1969     3    12          8.69</span></a>
<a class="sourceLine" id="cb4-29" data-line-number="29"><span class="co">#&gt;  8  1969     9    29          8.38</span></a>
<a class="sourceLine" id="cb4-30" data-line-number="30"><span class="co">#&gt;  9  1969     2    15          4.25</span></a>
<a class="sourceLine" id="cb4-31" data-line-number="31"><span class="co">#&gt; 10  1969     2    26          8.75</span></a></code></pre></div>
<div id="dplyr" class="section level3">
<h3 class="hasAnchor">
<a href="#dplyr" class="anchor"></a>dplyr</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">natality &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tbl.html">tbl</a></span>(con, <span class="st">"natality"</span>)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">natality <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(year, month, day, weight_pounds) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(<span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/compute.html">collect</a></span>()</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; # A tibble: 10 x 4</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;     year month   day weight_pounds</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt;         &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;  1  1969    11    29          6.00</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;  2  1969     2     6          8.94</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;  3  1970     9     4          7.13</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt;  4  1970     1    24          7.63</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt;  5  1970     6     6          9.00</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt;  6  1970    10    30          6.50</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt;  7  1971     3    18          5.75</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="co">#&gt;  8  1971     8    11          6.19</span></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co">#&gt;  9  1971     1    23          5.75</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="co">#&gt; 10  1969     5    16          6.88</span></a></code></pre></div>
</div>
</div>
<div id="important-details" class="section level2">
<h2 class="hasAnchor">
<a href="#important-details" class="anchor"></a>Important details</h2>
<div id="authentication" class="section level3">
<h3 class="hasAnchor">
<a href="#authentication" class="anchor"></a>Authentication</h3>
<p>When using bigquery interactively, you’ll be prompted to <a href="https://developers.google.com/bigquery/authorization">authorize bigrquery</a> in the browser. Your credentials will be cached across sessions in <code>.httr-oauth</code>. For non-interactive usage, you’ll need to download a service token JSON file and use <code><a href="reference/get_access_cred.html">set_service_token()</a></code>.</p>
<p>Note that <code>bigrquery</code> requests permission to modify your data; but it will never do so unless you explicitly request it (e.g. by calling <code><a href="reference/api-table.html">bq_table_delete()</a></code> or <code><a href="reference/api-table.html">bq_table_upload()</a></code>).</p>
</div>
<div id="billing-project" class="section level3">
<h3 class="hasAnchor">
<a href="#billing-project" class="anchor"></a>Billing project</h3>
<p>If you just want to play around with the bigquery API, it’s easiest to start with the Google’s free <a href="https://developers.google.com/bigquery/docs/sample-tables">sample data</a>. You’ll still need to create a project, but if you’re just playing around, it’s unlikely that you’ll go over the free limit (1 TB of queries / 10 GB of storage).</p>
<p>To create a project:</p>
<ol style="list-style-type: decimal">
<li><p>Open <a href="https://console.cloud.google.com/" class="uri">https://console.cloud.google.com/</a> and create a project. Make a note of the “Project ID” in the “Project info” box.</p></li>
<li><p>Click on “APIs &amp; Services”, then “Dashboard” in the left the left menu.</p></li>
<li><p>Click on “Enable Apis and Services” at the top of the page, then search for “BigQuery API” and “Cloud storage”.</p></li>
</ol>
<p>Use your project ID as the <code>billing</code> project whenever you work with free sample data; and as the <code>project</code> when you work with your own data.</p>
</div>
</div>
<div id="useful-links" class="section level2">
<h2 class="hasAnchor">
<a href="#useful-links" class="anchor"></a>Useful links</h2>
<ul>
<li><a href="https://developers.google.com/bigquery/query-reference">SQL reference</a></li>
<li><a href="https://developers.google.com/bigquery/docs/reference/v2/">API reference</a></li>
<li><a href="https://bigquery.cloud.google.com/">Query/job console</a></li>
<li><a href="https://console.cloud.google.com/">Billing console</a></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=bigrquery">https://​cloud.r-project.org/​package=bigrquery</a>
</li>
<li>Browse source code at <br><a href="https://github.com/rstats-db/bigrquery">https://​github.com/​rstats-db/​bigrquery</a>
</li>
<li>Report a bug at <br><a href="https://github.com/rstats-db/bigrquery/issues">https://​github.com/​rstats-db/​bigrquery/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://hadley.nz">Hadley Wickham</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/r-dbi/bigrquery"><img src="https://travis-ci.org/r-dbi/bigrquery.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://cran.r-project.org/package=bigrquery"><img src="https://www.r-pkg.org/badges/version/bigrquery" alt="CRAN Status"></a></li>
<li><a href="https://codecov.io/github/r-dbi/bigrquery?branch=master"><img src="https://codecov.io/gh/r-dbi/bigrquery/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
